```python
from sklearn.model_selection import train_test_split  
import matplotlib.pyplot as plt  
  
# 填充缺失值  
data_filled = data.apply(lambda x: x.fillna(x.mode()[0]))  
  
# 划分数据（测试集占比20%）  
train_data, test_data = train_test_split(data_filled,test_size=0.2, random_state=42)
```
这段代码主要完成了数据预处理中的两个关键步骤：**填充缺失值**和**划分训练集与测试集**，逻辑清晰，但可以补充一些细节说明和潜在优化点：

### 代码解析

1. **填充缺失值**
    
    python运行
    
    ```python
    data_filled = data.apply(lambda x: x.fillna(x.mode()[0]))
    ```
    
    - 作用：对数据集中的每一列（`x` 代表列），用该列的**众数（mode）** 填充缺失值（`NaN`）。

2. **划分训练集与测试集**
    
    python运行
    
    ```python
	train_data, test_data = train_test_split(data_filled,test_size=0.2, random_state=42)
    ```
    
    - 作用：将填充后的数据按 8:2 比例划分为训练集（`train_data`）和测试集（`test_data`）。
    - 参数说明：
        - `test_size=0.2`：测试集占比 20%（训练集占 80%）。
        - `random_state=42`：固定随机种子，确保每次运行划分结果一致（便于复现）。